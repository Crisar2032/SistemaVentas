(function (t) { function e(e) { for (var o, s, n = e[0], l = e[1], c = e[2], u = 0, v = []; u < n.length; u++)s = n[u], i[s] && v.push(i[s][0]), i[s] = 0; for (o in l) Object.prototype.hasOwnProperty.call(l, o) && (t[o] = l[o]); d && d(e); while (v.length) v.shift()(); return r.push.apply(r, c || []), a() } function a() { for (var t, e = 0; e < r.length; e++) { for (var a = r[e], o = !0, n = 1; n < a.length; n++) { var l = a[n]; 0 !== i[l] && (o = !1) } o && (r.splice(e--, 1), t = s(s.s = a[0])) } return t } var o = {}, i = { app: 0 }, r = []; function s(e) { if (o[e]) return o[e].exports; var a = o[e] = { i: e, l: !1, exports: {} }; return t[e].call(a.exports, a, a.exports, s), a.l = !0, a.exports } s.m = t, s.c = o, s.d = function (t, e, a) { s.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: a }) }, s.r = function (t) { "undefined" !== typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, s.t = function (t, e) { if (1 & e && (t = s(t)), 8 & e) return t; if (4 & e && "object" === typeof t && t && t.__esModule) return t; var a = Object.create(null); if (s.r(a), Object.defineProperty(a, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var o in t) s.d(a, o, function (e) { return t[e] }.bind(null, o)); return a }, s.n = function (t) { var e = t && t.__esModule ? function () { return t["default"] } : function () { return t }; return s.d(e, "a", e), e }, s.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, s.p = "/"; var n = window["webpackJsonp"] = window["webpackJsonp"] || [], l = n.push.bind(n); n.push = e, n = n.slice(); for (var c = 0; c < n.length; c++)e(n[c]); var d = l; r.push([0, "chunk-vendors"]), a() })({ 0: function (t, e, a) { t.exports = a("56d7") }, "0003": function (t, e, a) { }, "02d6": function (t, e, a) { "use strict"; var o = a("0003"), i = a.n(o); i.a }, 4678: function (t, e, a) { var o = { "./af": "2bfb", "./af.js": "2bfb", "./ar": "8e73", "./ar-dz": "a356", "./ar-dz.js": "a356", "./ar-kw": "423e", "./ar-kw.js": "423e", "./ar-ly": "1cfd", "./ar-ly.js": "1cfd", "./ar-ma": "0a84", "./ar-ma.js": "0a84", "./ar-sa": "8230", "./ar-sa.js": "8230", "./ar-tn": "6d83", "./ar-tn.js": "6d83", "./ar.js": "8e73", "./az": "485c", "./az.js": "485c", "./be": "1fc1", "./be.js": "1fc1", "./bg": "84aa", "./bg.js": "84aa", "./bm": "a7fa", "./bm.js": "a7fa", "./bn": "9043", "./bn.js": "9043", "./bo": "d26a", "./bo.js": "d26a", "./br": "6887", "./br.js": "6887", "./bs": "2554", "./bs.js": "2554", "./ca": "d716", "./ca.js": "d716", "./cs": "3c0d", "./cs.js": "3c0d", "./cv": "03ec", "./cv.js": "03ec", "./cy": "9797", "./cy.js": "9797", "./da": "0f14", "./da.js": "0f14", "./de": "b469", "./de-at": "b3eb", "./de-at.js": "b3eb", "./de-ch": "bb718", "./de-ch.js": "bb718", "./de.js": "b469", "./dv": "598a", "./dv.js": "598a", "./el": "8d47", "./el.js": "8d47", "./en-SG": "cdab", "./en-SG.js": "cdab", "./en-au": "0e6b", "./en-au.js": "0e6b", "./en-ca": "3886", "./en-ca.js": "3886", "./en-gb": "39a6", "./en-gb.js": "39a6", "./en-ie": "e1d3", "./en-ie.js": "e1d3", "./en-il": "7333", "./en-il.js": "7333", "./en-nz": "6f50", "./en-nz.js": "6f50", "./eo": "65db", "./eo.js": "65db", "./es": "898b", "./es-do": "0a3c", "./es-do.js": "0a3c", "./es-us": "55c9", "./es-us.js": "55c9", "./es.js": "898b", "./et": "ec18", "./et.js": "ec18", "./eu": "0ff2", "./eu.js": "0ff2", "./fa": "8df4", "./fa.js": "8df4", "./fi": "81e9", "./fi.js": "81e9", "./fo": "0721", "./fo.js": "0721", "./fr": "9f26", "./fr-ca": "d9f8", "./fr-ca.js": "d9f8", "./fr-ch": "0e49", "./fr-ch.js": "0e49", "./fr.js": "9f26", "./fy": "7118", "./fy.js": "7118", "./ga": "5120", "./ga.js": "5120", "./gd": "f6b4", "./gd.js": "f6b4", "./gl": "8840", "./gl.js": "8840", "./gom-latn": "0caa", "./gom-latn.js": "0caa", "./gu": "e0c5", "./gu.js": "e0c5", "./he": "c7aa", "./he.js": "c7aa", "./hi": "dc4d", "./hi.js": "dc4d", "./hr": "4ba9", "./hr.js": "4ba9", "./hu": "5b14", "./hu.js": "5b14", "./hy-am": "d6b6", "./hy-am.js": "d6b6", "./id": "5038", "./id.js": "5038", "./is": "0558", "./is.js": "0558", "./it": "6e98", "./it-ch": "6f12", "./it-ch.js": "6f12", "./it.js": "6e98", "./ja": "079e", "./ja.js": "079e", "./jv": "b540", "./jv.js": "b540", "./ka": "201b", "./ka.js": "201b", "./kk": "6d79", "./kk.js": "6d79", "./km": "e81d", "./km.js": "e81d", "./kn": "3e92", "./kn.js": "3e92", "./ko": "22f8", "./ko.js": "22f8", "./ku": "2421", "./ku.js": "2421", "./ky": "9609", "./ky.js": "9609", "./lb": "440c", "./lb.js": "440c", "./lo": "b29d", "./lo.js": "b29d", "./lt": "26f9", "./lt.js": "26f9", "./lv": "b97c", "./lv.js": "b97c", "./me": "293c", "./me.js": "293c", "./mi": "688b", "./mi.js": "688b", "./mk": "6909", "./mk.js": "6909", "./ml": "02fb", "./ml.js": "02fb", "./mn": "958b", "./mn.js": "958b", "./mr": "39bd", "./mr.js": "39bd", "./ms": "ebe4", "./ms-my": "6403", "./ms-my.js": "6403", "./ms.js": "ebe4", "./mt": "1b45", "./mt.js": "1b45", "./my": "8689", "./my.js": "8689", "./nb": "6ce3", "./nb.js": "6ce3", "./ne": "3a39", "./ne.js": "3a39", "./nl": "facd", "./nl-be": "db29", "./nl-be.js": "db29", "./nl.js": "facd", "./nn": "b84c", "./nn.js": "b84c", "./pa-in": "f3ff", "./pa-in.js": "f3ff", "./pl": "8d57", "./pl.js": "8d57", "./pt": "f260", "./pt-br": "d2d4", "./pt-br.js": "d2d4", "./pt.js": "f260", "./ro": "972c", "./ro.js": "972c", "./ru": "957c", "./ru.js": "957c", "./sd": "6784", "./sd.js": "6784", "./se": "ffff", "./se.js": "ffff", "./si": "eda5", "./si.js": "eda5", "./sk": "7be6", "./sk.js": "7be6", "./sl": "8155", "./sl.js": "8155", "./sq": "c8f3", "./sq.js": "c8f3", "./sr": "cf1e", "./sr-cyrl": "13e9", "./sr-cyrl.js": "13e9", "./sr.js": "cf1e", "./ss": "52bd", "./ss.js": "52bd", "./sv": "5fbd", "./sv.js": "5fbd", "./sw": "74dc", "./sw.js": "74dc", "./ta": "3de5", "./ta.js": "3de5", "./te": "5cbb", "./te.js": "5cbb", "./tet": "576c", "./tet.js": "576c", "./tg": "3b1b", "./tg.js": "3b1b", "./th": "10e8", "./th.js": "10e8", "./tl-ph": "0f38", "./tl-ph.js": "0f38", "./tlh": "cf75", "./tlh.js": "cf75", "./tr": "0e81", "./tr.js": "0e81", "./tzl": "cf51", "./tzl.js": "cf51", "./tzm": "c109", "./tzm-latn": "b53d", "./tzm-latn.js": "b53d", "./tzm.js": "c109", "./ug-cn": "6117", "./ug-cn.js": "6117", "./uk": "ada2", "./uk.js": "ada2", "./ur": "5294", "./ur.js": "5294", "./uz": "2e8c", "./uz-latn": "010e", "./uz-latn.js": "010e", "./uz.js": "2e8c", "./vi": "2921", "./vi.js": "2921", "./x-pseudo": "fd7e", "./x-pseudo.js": "fd7e", "./yo": "7f33", "./yo.js": "7f33", "./zh-cn": "5c3a", "./zh-cn.js": "5c3a", "./zh-hk": "49ab", "./zh-hk.js": "49ab", "./zh-tw": "90ea", "./zh-tw.js": "90ea" }; function i(t) { var e = r(t); return a(e) } function r(t) { var e = o[t]; if (!(e + 1)) { var a = new Error("Cannot find module '" + t + "'"); throw a.code = "MODULE_NOT_FOUND", a } return e } i.keys = function () { return Object.keys(o) }, i.resolve = r, t.exports = i, i.id = "4678" }, "56d7": function (t, e, a) { "use strict"; a.r(e); a("cadf"), a("551c"), a("f751"), a("097d"); var o = a("2b0e"), i = a("bb71"), r = (a("da64"), a("f950")); o["a"].use(i["a"], { theme: { primary: "#1976D2", secondary: "#424242", accent: "#82B1FF", error: "#FF5252", info: "#2196F3", success: "#4CAF50", warning: "#FFC107" }, lang: { locales: { es: r["a"] }, current: "es" }, options: { customProperties: !0 }, iconfont: "md" }); var s = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-app", { attrs: { id: "inspire" } }, [t.logueado ? a("v-navigation-drawer", { attrs: { clipped: t.$vuetify.breakpoint.lgAndUp, fixed: "", app: "" }, model: { value: t.drawer, callback: function (e) { t.drawer = e }, expression: "drawer" } }, [a("v-list", { attrs: { dense: "" } }, [t.esAdministrador || t.esAlmacenero || t.esVendedor ? [a("v-list-tile", { attrs: { to: { name: "home" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("home")])], 1), a("v-list-tile-title", [t._v("\n          Inicio\n        ")])], 1)] : t._e(), t.esAdministrador || t.esAlmacenero ? [a("v-list-group", { attrs: { "prepend-icon": "store" } }, [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n              Almacén\n            ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "categorias" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n              Categorías\n          ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "articulos" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n              Artículos\n          ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador || t.esAlmacenero ? [a("v-list-group", { attrs: { "prepend-icon": "account_balance_wallet" } }, [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Compras\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "ingresos" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ingresos\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "proveedores" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Proveedores\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador || t.esVendedor ? [a("v-list-group", { attrs: { "prepend-icon": "shopping_cart" } }, [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ventas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "ventas" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Ventas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "clientes" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Clientes\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador ? [a("v-list-group", { attrs: { "prepend-icon": "people" } }, [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Accesos\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "roles" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Roles\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "usuarios" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Usuarios\n              ")])], 1)], 1)], 1)] : t._e(), t.esAdministrador ? [a("v-list-group", { attrs: { "prepend-icon": "date_range" } }, [a("v-list-tile", { attrs: { slot: "activator" }, slot: "activator" }, [a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consultas\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "consultacompra" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consulta Compras\n              ")])], 1)], 1), a("v-list-tile", { attrs: { to: { name: "consultaventa" } } }, [a("v-list-tile-action", [a("v-icon", [t._v("table_chart")])], 1), a("v-list-tile-content", [a("v-list-tile-title", [t._v("\n                Consulta Ventas\n              ")])], 1)], 1)], 1)] : t._e()], 2)], 1) : t._e(), a("v-snackbar", { attrs: { timeout: 2e3, top: "", color: "success" }, model: { value: t.snackbar, callback: function (e) { t.snackbar = e }, expression: "snackbar" } }, [t._v("\n          ¡Registro guardado!\n          "), a("v-btn", { attrs: { flat: "", color: "white" }, on: { click: function (e) { t.snackbar = !1 } } }, [a("v-icon", [t._v("cancel_presentation")])], 1)], 1), a("v-toolbar", { attrs: { "clipped-left": t.$vuetify.breakpoint.lgAndUp, color: "blue darken-3", dark: "", app: "", fixed: "" } }, [a("v-toolbar-title", { staticClass: "ml-0 pl-3", staticStyle: { width: "300px" } }, [a("v-toolbar-side-icon", { on: { click: function (e) { e.stopPropagation(), t.drawer = !t.drawer } } }), a("span", { staticClass: "hidden-sm-and-down" }, [t._v("Sistema Ventas")])], 1), a("v-spacer"), t.logueado ? a("v-btn", { attrs: { color: "primary", small: "" }, on: { click: t.salir } }, [a("v-icon", { attrs: { left: "" } }, [t._v("logout")]), t._v("Salir\n    ")], 1) : a("v-btn", { attrs: { to: { name: "login" } } }, [a("v-icon", { attrs: { left: "" } }, [t._v("apps")]), t._v("Login\n    ")], 1)], 1), a("v-content", [a("v-container", { attrs: { fluid: "", "fill-height": "" } }, [a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [a("router-view", { on: { registroGuardado: function (e) { t.snackbar = !0 } } })], 1)], 1)], 1), a("v-footer", { attrs: { dark: "", height: "auto" } }, [a("v-layout", { attrs: { "justify-center": "" } }, [a("v-flex", { attrs: { "text-xs-center": "" } }, [a("v-card", { staticClass: "white--text", attrs: { flat: "", tile: "", color: "primary" } }, [a("v-card-text", { staticClass: "white--text pt-0" }, [t._v("\n            CrisssIT ©2019\n          ")])], 1)], 1)], 1)], 1)], 1) }, n = [], l = { name: "App", data: function () { return { drawer: null, snackbar: !1 } }, computed: { logueado: function () { return this.$store.state.usuario }, esAdministrador: function () { return this.$store.state.usuario && "Administrador" == this.$store.state.usuario.rol }, esAlmacenero: function () { return this.$store.state.usuario && "Almacenero" == this.$store.state.usuario.rol }, esVendedor: function () { return this.$store.state.usuario && "Vendedor" == this.$store.state.usuario.rol } }, created: function () { this.$store.dispatch("autoLogin") }, methods: { salir: function () { this.$store.dispatch("salir") } } }, c = l, d = a("2877"), u = a("6544"), v = a.n(u), m = a("7496"), p = a("8336"), h = a("b0af"), f = a("99d9"), b = a("a523"), _ = a("549c"), x = a("0e8f"), g = a("553a"), k = a("132d"), C = a("a722"), A = a("8860"), y = a("56b0"), V = a("ba95"), D = a("40fe"), I = a("5d23"), w = a("f774"), j = a("0789"), T = a("2db4"), M = a("9910"), N = a("71d9"), B = a("706c"), F = a("2a7f"), P = Object(d["a"])(c, s, n, !1, null, null, null), E = P.exports; v()(P, { VApp: m["a"], VBtn: p["a"], VCard: h["a"], VCardText: f["b"], VContainer: b["a"], VContent: _["a"], VFlex: x["a"], VFooter: g["a"], VIcon: k["a"], VLayout: C["a"], VList: A["a"], VListGroup: y["a"], VListTile: V["a"], VListTileAction: D["a"], VListTileContent: I["a"], VListTileTitle: I["b"], VNavigationDrawer: w["a"], VSlideYTransition: j["d"], VSnackbar: T["a"], VSpacer: M["a"], VToolbar: N["a"], VToolbarSideIcon: B["a"], VToolbarTitle: F["a"] }); var S = a("8c4f"), z = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("HelloWorld") }, R = [], L = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-container", { attrs: { "grid-list-m": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm10: "", md10: "" } }, [a("div", [t.loader ? a("v-progress-circular", { attrs: { size: 70, width: 7, color: "primary", indeterminate: "" } }) : t._e(), a("canvas", { attrs: { id: "myChart" } })], 1)])], 1)], 1) }, O = [], $ = a("e814"), U = a.n($), q = a("bc3a"), G = a.n(q), H = a("30ef"), Y = a.n(H), K = { data: function () { return { mesesValores: null, nombreMeses: [], totalMeses: [], loader: !0 } }, methods: { loadProductosMasVendidos: function () { var t = this, e = ""; t.mesesValores.map(function (a) { switch (U()(a.etiqueta)) { case 1: e = "Enero"; break; case 2: e = "Febrero"; break; case 3: e = "Marzo"; break; case 4: e = "Abril"; break; case 5: e = "Mayo"; break; case 6: e = "Junio"; break; case 7: e = "Julio"; break; case 8: e = "Agosto"; break; case 9: e = "Septiembre"; break; case 10: e = "Octubre"; break; case 11: e = "Noviembre"; break; case 12: e = "Diciembre"; break; default: e = "Error" }t.nombreMeses.push(e), t.totalMeses.push(a.valor) }); var a = document.getElementById("myChart"); new Y.a(a, { type: "bar", data: { labels: t.nombreMeses, datasets: [{ label: "Ventas en los últimos 12 Meses", data: t.totalMeses, backgroundColor: ["rgba(255, 99, 132, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 206, 86, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)", "rgba(255, 159, 64, 0.2)", "rgba(255, 99, 132, 0.2)", "rgba(54, 162, 235, 0.2)", "rgba(255, 206, 86, 0.2)", "rgba(75, 192, 192, 0.2)", "rgba(153, 102, 255, 0.2)", "rgba(255, 159, 64, 0.2)"], borderColor: ["rgba(255, 99, 132, 1)", "rgba(54, 162, 235, 1)", "rgba(255, 206, 86, 1)", "rgba(75, 192, 192, 1)", "rgba(153, 102, 255, 1)", "rgba(255, 159, 64, 1)", "rgba(255, 99, 132, 1)", "rgba(54, 162, 235, 1)", "rgba(255, 206, 86, 1)", "rgba(75, 192, 192, 1)", "rgba(153, 102, 255, 1)", "rgba(255, 159, 64, 1)"], borderWidth: 1 }] }, options: { scales: { yAxes: [{ ticks: { beginAtZero: !0 } }] }, tooltips: { enabled: !0, mode: "single", callbacks: { label: function (t, e) { return "Ganancias en Ventas en los últimos 12 Meses: $" + t.yLabel } } } } }) }, getProductosMasVendidos: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Ventas/VentasMes12", a).then(function (e) { t.mesesValores = e.data, t.loader = !1, t.loadProductosMasVendidos() }).catch(function (t) { console.log(t) }) } }, mounted: function () { this.getProductosMasVendidos() } }, W = K, X = a("490a"), Q = Object(d["a"])(W, L, O, !1, null, null, null), J = Q.exports; v()(Q, { VContainer: b["a"], VFlex: x["a"], VLayout: C["a"], VProgressCircular: X["a"] }); var Z = { components: { HelloWorld: J } }, tt = Z, et = Object(d["a"])(tt, z, R, !1, null, null, null), at = et.exports, ot = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Categorías")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-btn", t._g({ staticClass: "mb-2", attrs: { color: "primary", dark: "" } }, o), [t._v("Nuevo")])] } }]), model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-form", { ref: "form" }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre", rules: t.nombreRules }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Descripción", rules: t.inputRules }, model: { value: t.descripcion, callback: function (e) { t.descripcion = e }, expression: "descripcion" } })], 1)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.close } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")])], 1)], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Activar Item?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Desactivar Item?")]) : t._e(), a("v-card-text", [t._v("\n                            Estás a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            el ítem " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "green darken-1", flat: "flat" }, on: { click: t.activarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.categorias, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                        check\n                        ")])]], 2), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, it = [], rt = { data: function () { return { categorias: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Descripción", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, loading: !0, loadingBtn: !1, id: "", nombre: "", descripcion: "", adModal: 0, adAccion: 0, adNombre: "", adId: "", nombreRules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t && t.length > 3 && t.length <= 50 || "El nombre debe tener más de 3 caracteres y menos de 50 caracteres" }], inputRules: [function (t) { return !!t || "El campo es requerido" }] } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nueva categoría" : "Actualizar categoría" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Categorias/Listar", a).then(function (e) { t.categorias = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idcategoria, this.nombre = t.nombre, this.descripcion = t.descripcion, this.editedIndex = 1, this.dialog = !0 }, deleteItem: function (t) { var e = this.desserts.indexOf(t); confirm("Are you sure you want to delete this item?") && this.desserts.splice(e, 1) }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.descripcion = "", this.$refs.form.reset(), this.loadingBtn = !1, this.editedIndex = -1 }, guardar: function () { if (this.$refs.form.validate()) if (this.editedIndex > -1) { var t = this; t.loadingBtn = !0; var e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Categorias/Actualizar", { idcategoria: t.id, nombre: t.nombre, descripcion: t.descripcion }, a).then(function (e) { t.close(), t.listar(), t.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this; o.loadingBtn = !0; var i = { Authorization: "Bearer " + this.$store.state.token }, r = { headers: i }; G.a.post("api/Categorias/Crear", { nombre: o.nombre, descripcion: o.descripcion }, r).then(function (t) { o.close(), o.listar(), o.limpiar(), o.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idcategoria, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Categorias/Activar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Categorias/Desactivar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }, st = rt, nt = a("12b2"), lt = a("8fea"), ct = a("169a"), dt = a("ce7e"), ut = a("4bd4"), vt = a("2677"), mt = Object(d["a"])(st, ot, it, !1, null, null, null), pt = mt.exports; v()(mt, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var ht = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-btn", { attrs: { flat: "", icon: "" }, on: { click: t.crearPDF } }, [a("v-icon", [t._v("print")])], 1), a("v-toolbar-title", [t._v("Artículos")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-form", { ref: "form" }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Código", maxlength: "50", rules: t.inputRules }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.categorias, label: "Categoría", rules: t.inputRules }, model: { value: t.idcategoria, callback: function (e) { t.idcategoria = e }, expression: "idcategoria" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre", rules: t.nombreRules }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Stock", rules: [function (t) { return !!t || "Ingrese el stock inicial del artículo" }, function (t) { return t && t > 0 || "El stock debe ser mayor a 0" }] }, model: { value: t.stock, callback: function (e) { t.stock = e }, expression: "stock" } })], 1), a("v-flex", { attrs: { xs6: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "number", prefix: "$", label: "Precio de venta", rules: [function (t) { return !!t || "Ingrese el precio de venta del artículo" }, function (t) { return t && t > 0 || "El precio debe ser mayor a 0" }] }, model: { value: t.precio_venta, callback: function (e) { t.precio_venta = e }, expression: "precio_venta" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Descripción", rules: t.inputRules }, model: { value: t.descripcion, callback: function (e) { t.descripcion = e }, expression: "descripcion" } })], 1)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.close } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")])], 1)], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Activar Item?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Desactivar Item?")]) : t._e(), a("v-card-text", [t._v("\n                            Estás a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            el ítem " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "green darken-1", flat: "flat" }, on: { click: t.activarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.articulos, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                        check\n                        ")])]], 2), a("td", [t._v(t._s(e.item.codigo))]), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v("$" + t._s(e.item.precio_venta))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, ft = [], bt = a("e511"), _t = a.n(bt), xt = (a("0da4"), { data: function () { return { articulos: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Código", value: "codigo", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Categoría", value: "categoria" }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }, { text: "Descripción", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, loading: !0, loadingBtn: !1, id: "", idcategoria: "", categorias: [], codigo: "", nombre: "", stock: 0, precio_venta: 0, descripcion: "", adModal: 0, adAccion: 0, adNombre: "", adId: "", inputRules: [function (t) { return !!t || "El campo es requerido" }], nombreRules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t && t.length > 3 && t.length <= 100 || "El nombre debe tener más de 3 caracteres y menos de 100 caracteres" }] } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo artículo" : "Actualizar artículo" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = []; this.articulos.map(function (e) { t.push({ nombre: e.nombre, codigo: e.codigo, categoria: e.categoria, stock: e.stock, precio_venta: e.precio_venta }) }); var e = new _t.a("p", "pt"); e.text("Listado de Artículos", 40, 30), e.autoTable({ margin: { top: 60 }, columns: [{ header: "Nombre", dataKey: "nombre" }, { header: "Código", dataKey: "codigo" }, { header: "Categoría", dataKey: "categoria" }, { header: "Stock", dataKey: "stock" }, { header: "Precio Venta", dataKey: "precio_venta" }], body: t }), e.save("Articulos.pdf") }, listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/Listar", a).then(function (e) { t.articulos = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Categorias/Select", a).then(function (e) { o = e.data, o.map(function (e) { t.categorias.push({ text: e.nombre, value: e.idcategoria }) }) }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idarticulo, this.idcategoria = t.idcategoria, this.codigo = t.codigo, this.nombre = t.nombre, this.stock = t.stock, this.precio_venta = t.precio_venta, this.descripcion = t.descripcion, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.idcategoria = "", this.codigo = "", this.nombre = "", this.stock = "", this.precio_venta = "", this.descripcion = "", this.loadingBtn = !1, this.$refs.form.reset(), this.editedIndex = -1 }, guardar: function () { if (this.$refs.form.validate()) { var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }; if (this.editedIndex > -1) { var a = this; a.loadingBtn = !0, G.a.put("api/Articulos/Actualizar", { idarticulo: a.id, idcategoria: a.idcategoria, codigo: a.codigo, nombre: a.nombre, stock: a.stock, precio_venta: a.precio_venta, descripcion: a.descripcion }, e).then(function (t) { a.close(), a.listar(), a.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this; o.loadingBtn = !0, G.a.post("api/Articulos/Crear", { idcategoria: o.idcategoria, codigo: o.codigo, nombre: o.nombre, stock: o.stock, precio_venta: o.precio_venta, descripcion: o.descripcion }, e).then(function (t) { o.close(), o.listar(), o.limpiar(), o.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } } }, validar: function () { return (this.nombre.length <= 3 || this.nombre.length > 50) && this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 50 caracteres."), this.idcategoria || this.validaMensaje.push("Seleccione una categoría."), this.stock && 0 != this.stock || this.validaMensaje.push("Ingrese el stock inicial del artículo."), this.precio_venta && 0 != this.precio_venta || this.validaMensaje.push("Ingrese el precio de venta del artículo."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idarticulo, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Articulos/Activar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Articulos/Desactivar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }), gt = xt, kt = a("b56d"), Ct = Object(d["a"])(gt, ht, ft, !1, null, null, null), At = Ct.exports; v()(Ct, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var yt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Roles")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer")], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.roles, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, Vt = [], Dt = { data: function () { return { roles: [], dialog: !1, headers: [{ text: "Nombre", value: "nombre" }, { text: "Descripción", value: "descripcion", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", loading: !0 } }, computed: {}, watch: {}, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Roles/Listar", a).then(function (e) { t.roles = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) } } }, It = Dt, wt = Object(d["a"])(It, yt, Vt, !1, null, null, null), jt = wt.exports; v()(wt, { VBtn: p["a"], VDataTable: lt["a"], VDivider: dt["a"], VFlex: x["a"], VLayout: C["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var Tt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Usuarios")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-form", { ref: "form" }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Nombre", rules: t.nombreRules }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.roles, label: "Rol", rules: t.inputRules }, model: { value: t.idrol, callback: function (e) { t.idrol = e }, expression: "idrol" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento", rules: t.inputRules }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Número Documento", maxlength: "20", rules: t.inputRules }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Dirección", maxlength: "70", rules: t.inputRules }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Teléfono", maxlength: "20", rules: t.inputRules }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Email", rules: t.emailRules }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { type: "password", label: "Password", rules: t.inputRules }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } })], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }), 0)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.close } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")])], 1)], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Activar Item?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Desactivar Item?")]) : t._e(), a("v-card-text", [t._v("\n                            Estás a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Desactivar")]) : t._e(), t._v("\n                            el ítem " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "green darken-1", flat: "flat" }, on: { click: t.activarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Desactivar\n                            ")]) : t._e()], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.usuarios, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")]), e.item.condicion ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(1, e.item) } } }, [t._v("\n                        check\n                        ")])]], 2), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.rol))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))]), a("td", [e.item.condicion ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Activo")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v("Inactivo")])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, Mt = [], Nt = { data: function () { return { usuarios: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Rol", value: "rol" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Número Documento", value: "num_documento", sortable: !1 }, { text: "Dirección", value: "direccion", sortable: !1 }, { text: "Teléfono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }, { text: "Estado", value: "condicion", sortable: !1 }], search: "", editedIndex: -1, loading: !0, loadingBtn: !1, id: "", idrol: "", roles: [], nombre: "", tipo_documento: "", documentos: ["DNI", "RUC", "PASAPORTE", "CEDULA"], num_documento: "", direccion: "", telefono: "", email: "", password: "", actPassword: !1, passwordAnt: "", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "", nombreRules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t && t.length > 3 && t.length <= 100 || "El nombre debe tener más de 3 caracteres y menos de 100 caracteres" }], emailRules: [function (t) { return !!t || "El email es requerido" }, function (t) { return /.+@.+\..+/.test(t) || "No es un email válido" }], inputRules: [function (t) { return !!t || "El campo es requerido" }] } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo usuario" : "Actualizar usuario" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Usuarios/Listar", a).then(function (e) { t.usuarios = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Roles/Select", a).then(function (e) { o = e.data, o.map(function (e) { t.roles.push({ text: e.nombre, value: e.idrol }) }) }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idusuario, this.idrol = t.idrol, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.password = t.password_hash, this.passwordAnt = t.password_hash, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.idrol = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.password = "", this.passwordAnt = "", this.actPassword = !1, this.loadingBtn = !1, this.$refs.form.reset(), this.validaMensaje = [], this.editedIndex = -1 }, guardar: function () { if (this.$refs.form.validate()) { var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }; if (this.editedIndex > -1) { var a = this; a.loadingBtn = !0, a.password != a.passwordAnt && (a.actPassword = !0), G.a.put("api/Usuarios/Actualizar", { idusuario: a.id, idrol: a.idrol, nombre: a.nombre, tipo_documento: a.tipo_documento, num_documento: a.num_documento, direccion: a.direccion, telefono: a.telefono, email: a.email, password: a.password, act_password: a.actPassword }, e).then(function (t) { a.close(), a.listar(), a.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this; o.loadingBtn = !0, G.a.post("api/Usuarios/Crear", { idrol: o.idrol, nombre: o.nombre, tipo_documento: o.tipo_documento, num_documento: o.num_documento, direccion: o.direccion, telefono: o.telefono, email: o.email, password: o.password }, e).then(function (t) { o.close(), o.listar(), o.limpiar(), o.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } } }, validar: function () { return this.valida = 0, this.validaMensaje = [], (this.nombre.length <= 3 || this.nombre.length > 100) && this.validaMensaje.push("El nombre debe tener más de 3 caracteres y menos de 100 caracteres."), this.idrol || this.validaMensaje.push("Seleccione un rol."), this.tipo_documento || this.validaMensaje.push("Seleccione un tipo documento."), this.email || this.validaMensaje.push("Ingrese el email del usuario."), this.password || this.validaMensaje.push("Ingrese el password del usuario."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.nombre, this.adId = e.idusuario, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, activar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Usuarios/Activar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Usuarios/Desactivar/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }, Bt = Nt, Ft = Object(d["a"])(Bt, Tt, Mt, !1, null, null, null), Pt = Ft.exports; v()(Ft, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var Et = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Clientes")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-form", { ref: "form" }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre", rules: t.nombreRules }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento", rules: t.inputRules }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Número Documento", maxlength: "20", rules: t.inputRules }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Dirección", maxlength: "70", rules: t.inputRules }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Teléfono", maxlength: "20", rules: t.inputRules }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Email", rules: t.emailRules }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.close } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")])], 1)], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.clientes, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.tipo_persona))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, St = [], zt = { data: function () { return { clientes: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Tipo Persona", value: "tipo_persona" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Número Documento", value: "num_documento", sortable: !1 }, { text: "Dirección", value: "direccion", sortable: !1 }, { text: "Teléfono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }], search: "", editedIndex: -1, loading: !0, loadingBtn: !1, id: "", nombre: "", tipo_documento: "", documentos: ["DNI", "RUC", "PASAPORTE", "CEDULA"], num_documento: "", direccion: "", telefono: "", email: "", adModal: 0, adAccion: 0, adNombre: "", adId: "", nombreRules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t && t.length > 3 && t.length <= 100 || "El nombre debe tener más de 3 caracteres y menos de 100 caracteres" }], emailRules: [function (t) { return !!t || "El email es requerido" }, function (t) { return /.+@.+\..+/.test(t) || "No es un email válido" }], inputRules: [function (t) { return !!t || "El campo es requerido" }] } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo cliente" : "Actualizar cliente" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Personas/ListarClientes", a).then(function (e) { t.clientes = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idpersona, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.loadingBtn = !1, this.$refs.form.reset(), this.editedIndex = -1 }, guardar: function () { if (this.$refs.form.validate()) { var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }; if (this.editedIndex > -1) { var a = this; a.loadingBtn = !0, G.a.put("api/Personas/Actualizar", { idpersona: a.id, tipo_persona: "Cliente", nombre: a.nombre, tipo_documento: a.tipo_documento, num_documento: a.num_documento, direccion: a.direccion, telefono: a.telefono, email: a.email }, e).then(function (t) { a.close(), a.listar(), a.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this; o.loadingBtn = !0, G.a.post("api/Personas/Crear", { tipo_persona: "Cliente", nombre: o.nombre, tipo_documento: o.tipo_documento, num_documento: o.num_documento, direccion: o.direccion, telefono: o.telefono, email: o.email }, e).then(function (t) { o.close(), o.listar(), o.limpiar(), o.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } } } } }, Rt = zt, Lt = Object(d["a"])(Rt, Et, St, !1, null, null, null), Ot = Lt.exports; v()(Lt, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var $t = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Proveedores")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }), a("v-spacer"), a("v-dialog", { attrs: { "max-width": "500px" }, model: { value: t.dialog, callback: function (e) { t.dialog = e }, expression: "dialog" } }, [a("v-btn", { staticClass: "mb-2", attrs: { slot: "activator", color: "primary", dark: "" }, slot: "activator" }, [t._v("Nuevo")]), a("v-form", { ref: "form" }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v(t._s(t.formTitle))])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Nombre", rules: t.nombreRules }, model: { value: t.nombre, callback: function (e) { t.nombre = e }, expression: "nombre" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-select", { attrs: { items: t.documentos, label: "Tipo Documento", rules: t.inputRules }, model: { value: t.tipo_documento, callback: function (e) { t.tipo_documento = e }, expression: "tipo_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Número Documento", maxlength: "20", rules: t.inputRules }, model: { value: t.num_documento, callback: function (e) { t.num_documento = e }, expression: "num_documento" } })], 1), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "" } }, [a("v-text-field", { attrs: { label: "Dirección", maxlength: "70", rules: t.inputRules }, model: { value: t.direccion, callback: function (e) { t.direccion = e }, expression: "direccion" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Teléfono", maxlength: "20", rules: t.inputRules }, model: { value: t.telefono, callback: function (e) { t.telefono = e }, expression: "telefono" } })], 1), a("v-flex", { attrs: { xs12: "", sm6: "", md6: "" } }, [a("v-text-field", { attrs: { label: "Email", rules: t.emailRules }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } })], 1)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.close } }, [t._v("Cancelar")]), a("v-btn", { attrs: { color: "blue darken-1", flat: "", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")])], 1)], 1)], 1)], 1)], 1), a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.proveedores, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.editItem(e.item) } } }, [t._v("\n                    edit\n                    ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.tipo_persona))]), a("td", [t._v(t._s(e.item.tipo_documento))]), a("td", [t._v(t._s(e.item.num_documento))]), a("td", [t._v(t._s(e.item.direccion))]), a("td", [t._v(t._s(e.item.telefono))]), a("td", [t._v(t._s(e.item.email))])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }]) })], 1)], 1) }, Ut = [], qt = { data: function () { return { proveedores: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Nombre", value: "nombre" }, { text: "Tipo Persona", value: "tipo_persona" }, { text: "Tipo Documento", value: "tipo_documento" }, { text: "Número Documento", value: "num_documento", sortable: !1 }, { text: "Dirección", value: "direccion", sortable: !1 }, { text: "Teléfono", value: "telefono", sortable: !1 }, { text: "Email", value: "email", sortable: !1 }], search: "", editedIndex: -1, loading: !0, loadingBtn: !1, id: "", nombre: "", tipo_documento: "", documentos: ["DNI", "RUC", "PASAPORTE", "CEDULA"], num_documento: "", direccion: "", telefono: "", email: "", adModal: 0, adAccion: 0, adNombre: "", adId: "", nombreRules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t && t.length > 3 && t.length <= 100 || "El nombre debe tener más de 3 caracteres y menos de 100 caracteres" }], emailRules: [function (t) { return !!t || "El email es requerido" }, function (t) { return /.+@.+\..+/.test(t) || "No es un email válido" }], inputRules: [function (t) { return !!t || "El campo es requerido" }] } }, computed: { formTitle: function () { return -1 === this.editedIndex ? "Nuevo proveedor" : "Actualizar proveedor" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar() }, methods: { listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Personas/ListarProveedores", a).then(function (e) { t.proveedores = e.data, t.loading = !1 }).catch(function (t) { console.log(t) }) }, editItem: function (t) { this.id = t.idpersona, this.nombre = t.nombre, this.tipo_documento = t.tipo_documento, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.editedIndex = 1, this.dialog = !0 }, close: function () { this.dialog = !1, this.limpiar() }, limpiar: function () { this.id = "", this.nombre = "", this.tipo_documento = "", this.num_documento = "", this.direccion = "", this.telefono = "", this.email = "", this.loadingBtn = !1, this.$refs.form.reset(), this.editedIndex = -1 }, guardar: function () { if (this.$refs.form.validate()) { var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }; if (this.editedIndex > -1) { var a = this; a.loadingBtn = !0, G.a.put("api/Personas/Actualizar", { idpersona: a.id, tipo_persona: "Proveedor", nombre: a.nombre, tipo_documento: a.tipo_documento, num_documento: a.num_documento, direccion: a.direccion, telefono: a.telefono, email: a.email }, e).then(function (t) { a.close(), a.listar(), a.limpiar() }).catch(function (t) { console.log(t) }) } else { var o = this; o.loadingBtn = !0, G.a.post("api/Personas/Crear", { tipo_persona: "Proveedor", nombre: o.nombre, tipo_documento: o.tipo_documento, num_documento: o.num_documento, direccion: o.direccion, telefono: o.telefono, email: o.email }, e).then(function (t) { o.close(), o.listar(), o.limpiar(), o.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } } } } }, Gt = qt, Ht = Object(d["a"])(Gt, $t, Ut, !1, null, null, null), Yt = Ht.exports; v()(Ht, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var Kt = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-center": "", "justify-center": "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", x14: "" } }, [a("v-card", [a("v-toolbar", { attrs: { dark: "", color: "blue darken-3" } }, [a("v-icon", [t._v("perm_identity")]), a("v-toolbar-title", [t._v("\n                    Acceso al Sistema\n                ")])], 1), a("v-card-text", [a("v-form", { ref: "loginForm" }, [a("v-tooltip", { attrs: { right: "", "content-class": "subheading" }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-text-field", t._g({ attrs: { "prepend-icon": "email", color: "accent", label: "Email", rules: t.emailRules }, model: { value: t.email, callback: function (e) { t.email = e }, expression: "email" } }, o))] } }]) }, [a("span", [a("strong", [t._v("¡Bienvenido!")])]), a("p", [a("strong", [t._v("Usa algunas de las siguientes cuentas para comenzar:")])]), a("p", [a("ul", [a("li", [t._v("vendedor@gmail.com "), a("strong", [t._v("password:")]), t._v("1234")]), a("li", [t._v("almacenero@gmail.com "), a("strong", [t._v("password:")]), t._v("1234")]), a("li", [t._v("admin@gmail.com "), a("strong", [t._v("password:")]), t._v("1234")])])])]), a("v-text-field", { attrs: { "prepend-icon": "vpn_key", type: t.show1 ? "text" : "password", color: "accent", label: "Password", "append-icon": t.show1 ? "visibility" : "visibility_off", rules: t.inputRules }, on: { "click:append": function (e) { t.show1 = !t.show1 } }, model: { value: t.password, callback: function (e) { t.password = e }, expression: "password" } }), t.error ? a("v-flex", { staticClass: "red--text" }, [t._v("\n                        " + t._s(t.error) + "\n                    ")]) : t._e()], 1)], 1), a("v-card-actions", { staticClass: "px-3 pb-3" }, [a("v-flex", { attrs: { "text-xs-right": "" } }, [a("v-btn", { attrs: { color: "primary", loading: t.loading }, on: { click: t.ingresar } }, [t._v("Ingresar")])], 1)], 1)], 1)], 1)], 1) }, Wt = [], Xt = { data: function () { return { email: "", password: "", error: null, loading: !1, show1: !1, inputRules: [function (t) { return !!t || "El campo es requerido" }], emailRules: [function (t) { return !!t || "El email es requerido" }, function (t) { return /.+@.+\..+/.test(t) || "No es un email válido" }] } }, created: function () { this.logueado() }, methods: { ingresar: function () { var t = this; this.$refs.loginForm.validate() && (this.loading = !0, this.error = null, G.a.post("api/Usuarios/Login", { email: this.email, password: this.password }).then(function (t) { return t.data }).then(function (e) { t.$store.dispatch("guardarToken", e.token), t.$router.push({ name: "home" }) }).catch(function (e) { 404 == e.response.status ? t.error = "No existe el usuario o sus datos son incorrectos" : t.error = "Ocurrió un error", t.loading = !1 })) }, logueado: function () { this.$store.state.usuario && this.$router.push({ name: "home" }) } } }, Qt = Xt, Jt = a("3a2f"), Zt = Object(d["a"])(Qt, Kt, Wt, !1, null, null, null), te = Zt.exports; v()(Zt, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"], VTooltip: Jt["a"] }); var ee = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Ingresos")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }) : t._e(), a("v-spacer"), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.mostrarNuevo } }, [t._v("Nuevo")]) : t._e(), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.verArticulos, callback: function (e) { t.verArticulos = e }, expression: "verArticulos" } }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v("Seleccione un artículo")])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Ingrese artículo a buscar" }, on: { keyup: function (e) { return t.listarArticulo() } }, model: { value: t.texto, callback: function (e) { t.texto = e }, expression: "texto" } }), [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraArticulos, items: t.articulos, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.agregarDetalle(e.item) } } }, [t._v("\n                                                        add\n                                                        ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v(t._s(e.item.precio_venta))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos para mostrar")])] }, proxy: !0 }]) })]], 2)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken", flat: "" }, on: { click: function (e) { return t.ocultarArticulos() } } }, [t._v("\n                                Cancelar\n                            ")])], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Activar Item?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Anular Ingreso?")]) : t._e(), a("v-card-text", [t._v("\n                            Estás a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Anular")]) : t._e(), t._v("\n                            el ítem " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "green darken-1", flat: "flat" }, on: { click: t.activarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Anular\n                            ")]) : t._e()], 1)], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ingresos, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")]), "Aceptado" == e.item.estado ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : t._e()], 2), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.proveedor))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v("%" + t._s(e.item.impuesto))]), a("td", [t._v("$" + t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }], null, !1, 1673843184) }) : t._e(), a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [[t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-form", { ref: "form" }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante", rules: [function (t) { return !!t || "Seleccione un Tipo Comprobante" }], readonly: t.readonly }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante", maxlength: "7", rules: t.inputRules, readonly: t.readonly }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Número Comprobante", counter: "", maxlength: "10", rules: t.inputRules, readonly: t.readonly }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.proveedores, label: "Proveedor", rules: [function (t) { return !!t || "Seleccione un Proveedor" }], readonly: t.readonly }, model: { value: t.idproveedor, callback: function (e) { t.idproveedor = e }, expression: "idproveedor" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", prefix: "%", label: "Impuesto", rules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t > 0 || "Ingrese un impuesto válido" }], readonly: t.readonly }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [0 == t.verDet ? a("v-text-field", { attrs: { label: "Código", hint: "Ingrese el código del artículo y presione Enter" }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.buscarCodigo() } }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } }) : t._e()], 1), a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [0 == t.verDet ? a("v-btn", { attrs: { small: "", fab: "", dark: "", color: "teal" }, on: { click: function (e) { return t.mostrarArticulos() } } }, [a("v-icon", { attrs: { dark: "" } }, [t._v("list")])], 1) : t._e()], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.computedHeaders, items: t.detalles, loading: t.loading, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [0 == t.verDet ? a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.eliminarDetalle(t.detalles, e.item) } } }, [t._v("\n                                delete\n                                ")])], 1) : t._e(), a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number", readonly: t.readonly }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: t.readonly }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [t._v("$ " + t._s((e.item.cantidad * e.item.precio).toFixed(2)))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos agregados al detalle")])] }, proxy: !0 }], null, !1, 1772009880) }), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }), 0), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v(t._s(t.textoBtn))]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1)], 1) : t._e()]], 2)], 1)], 1) }, ae = [], oe = (a("386d"), a("c1df")), ie = a.n(oe), re = { data: function () { return { ingresos: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Proveedor", value: "proveedor" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Número Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora", sortable: !1 }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "Total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDetalles: [{ text: "Borrar", value: "borrar", sortable: !1 }, { text: "Artículo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Artículo", value: "articulo" }, { text: "Categoría", value: "categoria" }, { text: "Descripción", value: "descripcio", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], detalles: [], search: "", loading: !0, loadingBtn: !1, id: "", idproveedor: "", proveedores: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, articulos: [], texto: "", verArticulos: 0, verDet: 0, readonly: !1, textoBtn: "Cancelar", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "", inputRules: [function (t) { return !!t || "El campo es requerido" }], hideBorrar: !1 } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad; return t }, computedHeaders: function () { return this.hideBorrar ? this.cabeceraDetalles.filter(function (t) { return "Borrar" !== t.text }) : this.cabeceraDetalles } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { mostrarNuevo: function () { this.verNuevo = 1, this.hideBorrar = !1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, buscarCodigo: function () { var t = this; t.errorArticulo = null; var e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/BuscarCodigoIngreso/" + this.codigo, a).then(function (e) { t.agregarDetalle(e.data), t.loading = !1 }).catch(function (e) { t.errorArticulo = "No existe el artículo" }) }, listarArticulo: function () { if ("" != this.texto) { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/ListarIngreso/" + t.texto, a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) } }, mostrarArticulos: function () { this.verArticulos = 1 }, ocultarArticulos: function () { this.verArticulos = 0, this.articulos = [], this.texto = "" }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El artículo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: 1 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, eliminarDetalle: function (t, e) { var a = t.indexOf(e); -1 !== a && t.splice(a, 1) }, listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.search ? "api/Ingresos/ListarFiltro/" + t.search : "api/Ingresos/Listar", G.a.get(o, a).then(function (e) { t.ingresos = e.data, t.ingresos.map(function (t) { t.fecha_hora = ie()(t.fecha_hora).format("DD/MM/YYYY HH:mm") }), t.loading = !1 }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: "Bearer " + this.$store.state.token }, o = { headers: a }; G.a.get("api/Ingresos/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data, e.loading = !1 }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idproveedor = t.idproveedor, this.impuesto = t.impuesto, this.listarDetalles(t.idingreso), this.verNuevo = 1, this.verDet = 1, this.readonly = !0, this.textoBtn = "Volver", this.hideBorrar = !0 }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Personas/SelectProveedores", a).then(function (e) { o = e.data, o.map(function (e) { t.proveedores.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idproveedor = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = 18, this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0, this.readonly = !1, this.textoBtn = "Cancelar", this.hideBorrar = "false", this.loadingBtn = !1, this.validaMensaje = [] }, guardar: function () { if (this.$refs.form.validate()) { if (this.validar()) return; var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }, a = this; a.loadingBtn = !0, G.a.post("api/Ingresos/Crear", { idproveedor: a.idproveedor, idusuario: a.$store.state.usuario.idusuario, tipo_comprobante: a.tipo_comprobante, serie_comprobante: a.serie_comprobante, num_comprobante: a.num_comprobante, impuesto: a.impuesto, total: a.total, detalles: a.detalles }, e).then(function (t) { a.ocultarNuevo(), a.listar(), a.limpiar(), a.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], this.detalles.length <= 0 && this.validaMensaje.push("Ingrese al menos un artículo al detalle."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.num_comprobante, this.adId = e.idingreso, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Ingresos/Anular/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }, se = re, ne = Object(d["a"])(se, ee, ae, !1, null, null, null), le = ne.exports; v()(ne, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSlideYTransition: j["d"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var ce = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-card", [a("v-card-title", [a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", "text-xs-center": "" } }, [a("h2", [t._v("Consulta Compras")])]), a("v-divider", { attrs: { vertical: "" } }), 0 == t.verNuevo ? a("v-flex", { attrs: { xs8: "", sm3: "", md2: "", "text-xs-center": "" } }, [a("v-menu", { attrs: { "full-width": "", "max-width": "290", lazy: "", transition: "scale-transition", "close-on-content-click": !1 }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-text-field", t._g({ staticClass: "text-xs-center", attrs: { readonly: "", label: "Desde:", "prepend-icon": "event", clearable: "", "clear-icon": "highlight_off", value: t.fechaInicioFormateada }, on: { "click:clear": function (e) { t.fechaInicio = "" } } }, o))] } }], null, !1, 782586416), model: { value: t.menu1, callback: function (e) { t.menu1 = e }, expression: "menu1" } }, [a("v-date-picker", { attrs: { locale: "es" }, on: { change: function (e) { t.menu1 = !1 } }, model: { value: t.fechaInicio, callback: function (e) { t.fechaInicio = e }, expression: "fechaInicio" } })], 1)], 1) : t._e(), 0 == t.verNuevo ? a("v-flex", { attrs: { xs8: "", sm3: "", md2: "", "text-xs-center": "" } }, [a("v-menu", { attrs: { "full-width": "", "max-width": "290", lazy: "", transition: "scale-transition", "close-on-content-click": !1 }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-text-field", t._g({ staticClass: "text-xs-center", attrs: { readonly: "", label: "Hasta:", "prepend-icon": "event", clearable: "", "clear-icon": "highlight_off", value: t.fechaFinFormateada }, on: { "click:clear": function (e) { t.fechaFin = "" } } }, o))] } }], null, !1, 3666725676), model: { value: t.menu2, callback: function (e) { t.menu2 = e }, expression: "menu2" } }, [a("v-date-picker", { attrs: { locale: "es" }, on: { change: function (e) { t.menu2 = !1 } }, model: { value: t.fechaFin, callback: function (e) { t.fechaFin = e }, expression: "fechaFin" } })], 1)], 1) : t._e(), a("v-flex", { attrs: { xs12: "", sm3: "", "text-xs-center": "" } }, [0 == t.verNuevo ? a("v-btn", { attrs: { loading: t.loadingBtnBuscar, color: "primary", dark: "" }, on: { click: function (e) { t.listar(), t.loadingBtnBuscar = !0 } } }, [t._v("Buscar")]) : t._e()], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ingresos, search: t.search, loading: t.loading, pagination: t.pagination }, on: { "update:pagination": function (e) { t.pagination = e } }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")])], 1), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.proveedor))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v("%" + t._s(e.item.impuesto))]), a("td", [t._v("$" + t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }], null, !1, 693529783) }) : t._e(), a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [[t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-form", { ref: "form" }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante", rules: [function (t) { return !!t || "Seleccione un Tipo Comprobante" }], readonly: "" }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante", rules: t.inputRules, readonly: "" }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Número Comprobante", rules: t.inputRules, readonly: "" }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.proveedores, label: "Proveedor", rules: [function (t) { return !!t || "Seleccione un Proveedor" }], readonly: "" }, model: { value: t.idproveedor, callback: function (e) { t.idproveedor = e }, expression: "idproveedor" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Impuesto", rules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t > 0 || "Ingrese un impuesto válido" }], readonly: "" }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraDetalles, items: t.detalles, loading: t.loading, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number", readonly: "" }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: "" }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [t._v("$ " + t._s(e.item.cantidad * e.item.precio))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos agregados al detalle")])] }, proxy: !0 }], null, !1, 257200240) }), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }), 0), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v("Volver")]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1)], 1) : t._e()]], 2)], 1)], 1)], 1) }, de = [], ue = { data: function () { return { pagination: { sortBy: "fecha_hora", descending: !0 }, ingresos: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Proveedor", value: "proveedor" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Número Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora" }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "Total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDetalles: [{ text: "Artículo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Artículo", value: "articulo" }, { text: "Categoría", value: "categoria" }, { text: "Descripción", value: "descripcio", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], detalles: [], search: "", loading: !0, loadingBtn: !1, loadingBtnBuscar: !1, id: "", idproveedor: "", proveedores: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, articulos: [], texto: "", verArticulos: 0, verDet: 0, valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "", inputRules: [function (t) { return !!t || "El campo es requerido" }], menu1: !1, menu2: !1, fechaInicio: "", fechaFin: "" } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad; return t }, fechaInicioFormateada: function () { return this.fechaInicio ? ie()(this.fechaInicio).format("DD/MM/YYYY") : "" }, fechaFinFormateada: function () { return this.fechaFin ? ie()(this.fechaFin).format("DD/MM/YYYY") : "" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { mostrarNuevo: function () { this.verNuevo = 1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, buscarCodigo: function () { var t = this; t.errorArticulo = null; var e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/BuscarCodigoIngreso/" + this.codigo, a).then(function (e) { t.agregarDetalle(e.data), t.loading = !1 }).catch(function (e) { t.errorArticulo = "No existe el artículo" }) }, listarArticulo: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/ListarIngreso/" + t.texto, a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) }, mostrarArticulos: function () { this.verArticulos = 1 }, ocultarArticulos: function () { this.verArticulos = 0 }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El artículo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: 1 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, eliminarDetalle: function (t, e) { var a = t.indexOf(e); -1 !== a && t.splice(a, 1) }, listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.fechaInicio && t.fechaFin ? "api/Ingresos/ConsultaFechas/" + t.fechaInicio + "/" + t.fechaFin : "api/Ingresos/Listar", G.a.get(o, a).then(function (e) { t.ingresos = e.data, t.ingresos.map(function (t) { t.fecha_hora = ie()(t.fecha_hora).format("DD/MM/YYYY HH:mm") }), t.loading = !1, t.loadingBtnBuscar = !1 }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: "Bearer " + this.$store.state.token }, o = { headers: a }; G.a.get("api/Ingresos/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data, e.loading = !1 }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idproveedor = t.idproveedor, this.impuesto = t.impuesto, this.listarDetalles(t.idingreso), this.verNuevo = 1, this.verDet = 1 }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Personas/SelectProveedores", a).then(function (e) { o = e.data, o.map(function (e) { t.proveedores.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idproveedor = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = "18", this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0, this.loadingBtn = !1, this.validaMensaje = [] }, guardar: function () { if (this.$refs.form.validate()) { if (this.validar()) return; var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }, a = this; a.loadingBtn = !0, G.a.post("api/Ingresos/Crear", { idproveedor: a.idproveedor, idusuario: a.$store.state.usuario.idusuario, tipo_comprobante: a.tipo_comprobante, serie_comprobante: a.serie_comprobante, num_comprobante: a.num_comprobante, impuesto: a.impuesto, total: a.total, detalles: a.detalles }, e).then(function (t) { a.ocultarNuevo(), a.listar(), a.limpiar(), a.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], this.detalles.length <= 0 && this.validaMensaje.push("Ingrese al menos un artículo al detalle."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.num_comprobante, this.adId = e.idingreso, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Ingresos/Anular/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }, ve = ue, me = a("2e4b"), pe = a("e449"), he = Object(d["a"])(ve, ce, de, !1, null, null, null), fe = he.exports; v()(he, { VBtn: p["a"], VCard: h["a"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDatePicker: me["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VMenu: pe["a"], VSelect: kt["a"], VSlideYTransition: j["d"], VTextField: vt["a"] }); var be = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-toolbar", { attrs: { flat: "", color: "white" } }, [a("v-toolbar-title", [t._v("Ventas")]), a("v-divider", { staticClass: "mx-2", attrs: { inset: "", vertical: "" } }), a("v-spacer"), 0 == t.verNuevo ? a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Búsqueda", "single-line": "", "hide-details": "" }, model: { value: t.search, callback: function (e) { t.search = e }, expression: "search" } }) : t._e(), a("v-spacer"), 0 == t.verNuevo ? a("v-btn", { staticClass: "mb-2", attrs: { color: "primary", dark: "" }, on: { click: t.mostrarNuevo } }, [t._v("Nuevo")]) : t._e(), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.verArticulos, callback: function (e) { t.verArticulos = e }, expression: "verArticulos" } }, [a("v-card", [a("v-card-title", [a("span", { staticClass: "headline" }, [t._v("Seleccione un artículo")])]), a("v-card-text", [a("v-container", { attrs: { "grid-list-md": "" } }, [a("v-layout", { attrs: { wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-text-field", { staticClass: "text-xs-center", attrs: { "append-icon": "search", label: "Ingrese artículo a buscar" }, on: { keyup: function (e) { return t.listarArticulo() } }, model: { value: t.texto, callback: function (e) { t.texto = e }, expression: "texto" } }), [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraArticulos, items: t.articulos, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.agregarDetalle(e.item) } } }, [t._v("\n                                                        add\n                                                        ")])], 1), a("td", [t._v(t._s(e.item.nombre))]), a("td", [t._v(t._s(e.item.categoria))]), a("td", [t._v(t._s(e.item.descripcion))]), a("td", [t._v(t._s(e.item.stock))]), a("td", [t._v(t._s(e.item.precio_venta))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos para mostrar")])] }, proxy: !0 }]) })]], 2)], 1)], 1)], 1), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "blue darken", flat: "" }, on: { click: function (e) { return t.ocultarArticulos() } } }, [t._v("\n                                Cancelar\n                            ")])], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "290" }, model: { value: t.adModal, callback: function (e) { t.adModal = e }, expression: "adModal" } }, [a("v-card", [1 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Activar Item?")]) : t._e(), 2 == t.adAccion ? a("v-card-title", { staticClass: "headline" }, [t._v("¿Anular Venta?")]) : t._e(), a("v-card-text", [t._v("\n                            Estás a punto de\n                            "), 1 == t.adAccion ? a("span", [t._v("Activar")]) : t._e(), 2 == t.adAccion ? a("span", [t._v("Anular")]) : t._e(), t._v("\n                            el ítem " + t._s(t.adNombre) + "\n                        ")]), a("v-card-actions", [a("v-spacer"), a("v-btn", { attrs: { color: "green darken-1", flat: "flat" }, on: { click: t.activarDesactivarCerrar } }, [t._v("\n                                Cancelar\n                            ")]), 1 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.activar } }, [t._v("\n                                Activar\n                            ")]) : t._e(), 2 == t.adAccion ? a("v-btn", { attrs: { color: "orange darken-4", flat: "flat" }, on: { click: t.desactivar } }, [t._v("\n                                Anular\n                            ")]) : t._e()], 1)], 1)], 1), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.comprobanteModal, callback: function (e) { t.comprobanteModal = e }, expression: "comprobanteModal" } }, [a("v-card", [a("v-card-text", [a("v-btn", { on: { click: function (e) { return t.crearPDF() } } }, [a("v-icon", [t._v("print")])], 1), a("div", { attrs: { id: "factura" } }, [a("header", [a("div", { attrs: { id: "logo" } }, [a("img", { attrs: { src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC", id: "imagen" } })]), a("div", { attrs: { id: "datos" } }, [a("p", { attrs: { id: "encabezado" } }, [a("b", [t._v("CrisssIT")]), a("br"), t._v("San Martín 1368, Godoy Cruz - Mendoza, Argentina"), a("br"), t._v("Telefono:(+54)456742904"), a("br"), t._v("Email:criss.sarmiento23@gmail.com\n                                        ")])]), a("div", { attrs: { id: "fact" } }, [a("p", [t._v(t._s(t.tipo_comprobante)), a("br"), t._v("\n                                        " + t._s(t.serie_comprobante) + "-" + t._s(t.num_comprobante)), a("br"), t._v("\n                                        " + t._s(t.fecha_hora))])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facliente" } }, [a("tbody", [a("tr", [a("td", { attrs: { id: "cliente" } }, [a("strong", [t._v("Sr(a). " + t._s(t.cliente))]), a("br"), a("strong", [t._v("Documento:")]), t._v(" " + t._s(t.num_documento)), a("br"), a("strong", [t._v("Dirección:")]), t._v(" " + t._s(t.direccion)), a("br"), a("strong", [t._v("Teléfono:")]), t._v(" " + t._s(t.telefono)), a("br"), a("strong", [t._v("Email:")]), t._v(" " + t._s(t.email) + "\n                                                    ")])])])])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facarticulo" } }, [a("thead", [a("tr", { attrs: { id: "fa" } }, [a("th", [t._v("CANT")]), a("th", [t._v("DESCRIPCION")]), a("th", [t._v("PRECIO UNIT")]), a("th", [t._v("DESC.")]), a("th", [t._v("PRECIO TOTAL")])])]), a("tbody", t._l(t.detalles, function (e) { return a("tr", { key: e.iddetalle_venta }, [a("td", { staticStyle: { "text-align": "center" } }, [t._v(t._s(Number(e.cantidad)))]), a("td", [t._v(t._s(e.articulo))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(Number(e.precio).toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(Number(e.descuento).toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(Number(e.cantidad * e.precio - e.descuento).toFixed(2)))])]) }), 0), a("tfoot", [a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("SUBTOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("IGV (" + t._s(t.impuesto) + "%)")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("TOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)))])])])])])]), a("br"), a("br"), a("footer", [a("div", { attrs: { id: "gracias" } }, [a("p", [a("b", [t._v("Gracias por su compra!")])])])])]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: function (e) { return t.ocultarComprobante() } } }, [t._v("Cancelar")])], 1)], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ventas, search: t.search, loading: t.loading }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.verDetalles(e.item) } } }, [t._v("\n                    tab\n                    ")]), a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.mostrarComprobante(e.item) } } }, [t._v("\n                    print\n                    ")]), "Aceptado" == e.item.estado ? [a("v-icon", { attrs: { small: "" }, on: { click: function (a) { return t.activarDesactivarMostrar(2, e.item) } } }, [t._v("\n                        block\n                        ")])] : t._e()], 2), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.cliente))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v("%" + t._s(e.item.impuesto))]), a("td", [t._v("$" + t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }], null, !1, 1208363565) }) : t._e(), a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [[t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-form", { ref: "form" }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante", rules: [function (t) { return !!t || "Seleccione un Tipo Comprobante" }], readonly: t.readonly }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante", maxlength: "7", rules: t.inputRules, readonly: t.readonly }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Número Comprobante", counter: "", maxlength: "10", rules: t.inputRules, readonly: t.readonly }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.clientes, label: "Clientes", rules: [function (t) { return !!t || "Seleccione un Cliente" }], readonly: t.readonly }, model: { value: t.idcliente, callback: function (e) { t.idcliente = e }, expression: "idcliente" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", prefix: "%", label: "Impuesto", rules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t > 0 || "Ingrese un impuesto válido" }], readonly: t.readonly }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [0 == t.verDet ? a("v-text-field", { attrs: { label: "Código", hint: "Ingrese el código del artículo y presione Enter" }, on: { keyup: function (e) { return !e.type.indexOf("key") && t._k(e.keyCode, "enter", 13, e.key, "Enter") ? null : t.buscarCodigo() } }, model: { value: t.codigo, callback: function (e) { t.codigo = e }, expression: "codigo" } }) : t._e()], 1), a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [0 == t.verDet ? a("v-btn", { attrs: { small: "", fab: "", dark: "", color: "teal" }, on: { click: function (e) { return t.mostrarArticulos() } } }, [a("v-icon", { attrs: { dark: "" } }, [t._v("list")])], 1) : t._e()], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.computedHeaders, items: t.detalles, loading: t.loading, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [0 == t.verDet ? a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.eliminarDetalle(t.detalles, e.item) } } }, [t._v("\n                                delete\n                                ")])], 1) : t._e(), a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number", hint: 0 == t.verDet ? e.item.stock + " en stock" : "", rules: [function (t) { return t <= e.item.stock || "No sobrepase el stock de " + e.item.stock }, function (t) { return t > 0 || "Ingrese un stock válido" }], readonly: t.readonly }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: t.readonly }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: t.readonly }, model: { value: e.item.descuento, callback: function (a) { t.$set(e.item, "descuento", a) }, expression: "props.item.descuento" } })], 1), a("td", [t._v("$ " + t._s((e.item.cantidad * e.item.precio - e.item.descuento).toFixed(2)))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos agregados al detalle")])] }, proxy: !0 }], null, !1, 2481038160) }), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                    ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                    ")])], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }), 0), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v(t._s(t.textoBtn))]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success", loading: t.loadingBtn }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1)], 1) : t._e()]], 2)], 1)], 1) }, _e = [], xe = a("c0e9"), ge = a.n(xe), ke = { data: function () { return { ventas: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Cliente", value: "cliente" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Número Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora", sortable: !1 }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "Total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDetalles: [{ text: "Borrar", value: "borrar", sortable: !1 }, { text: "Artículo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Descuento", value: "descuento", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Artículo", value: "articulo" }, { text: "Categoría", value: "categoria" }, { text: "Descripción", value: "descripcio", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], detalles: [], search: "", loading: !0, loadingBtn: !1, id: "", idcliente: "", clientes: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, articulos: [], texto: "", verArticulos: 0, verDet: 0, readonly: !1, textoBtn: "Cancelar", valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "", inputRules: [function (t) { return !!t || "El campo es requerido" }], comprobanteModal: 0, cliente: "", fecha_hora: "", num_documento: "", direccion: "", telefono: "", email: "", hideBorrar: !1 } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad - this.detalles[e].descuento; return t }, computedHeaders: function () { return this.hideBorrar ? this.cabeceraDetalles.filter(function (t) { return "Borrar" !== t.text }) : this.cabeceraDetalles } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = document.getElementById("factura"); ge()(t).then(function (t) { var e = t.toDataURL("image/png"), a = 210, o = t.height * a / t.width, i = new _t.a("p", "mm", "a4"), r = 0; i.addImage(e, "PNG", 0, r, a, o), i.save("ComprobanteVenta.pdf") }) }, mostrarComprobante: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.cliente = t.cliente, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.fecha_hora = t.fecha_hora, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.comprobanteModal = 1 }, ocultarComprobante: function () { this.comprobanteModal = 0, this.limpiar() }, mostrarNuevo: function () { this.verNuevo = 1, this.hideBorrar = !1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, buscarCodigo: function () { var t = this; t.errorArticulo = null; var e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/BuscarCodigoVenta/" + this.codigo, a).then(function (e) { t.agregarDetalle(e.data), t.loading = !1 }).catch(function (e) { t.errorArticulo = "No existe el artículo" }) }, listarArticulo: function () { if ("" != this.texto) { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.get("api/Articulos/ListarVenta/" + t.texto, a).then(function (e) { t.articulos = e.data }).catch(function (t) { console.log(t) }) } }, mostrarArticulos: function () { this.verArticulos = 1 }, ocultarArticulos: function () { this.verArticulos = 0, this.articulos = [], this.texto = "" }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El artículo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: t["precio_venta"], descuento: 0, stock: t["stock"] }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, eliminarDetalle: function (t, e) { var a = t.indexOf(e); -1 !== a && t.splice(a, 1) }, listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.search ? "api/Ventas/ListarFiltro/" + t.search : "api/Ventas/Listar", G.a.get(o, a).then(function (e) { t.ventas = e.data, t.ventas.map(function (t) { t.fecha_hora = ie()(t.fecha_hora).format("DD/MM/YYYY HH:mm") }), t.loading = !1 }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: "Bearer " + this.$store.state.token }, o = { headers: a }; G.a.get("api/Ventas/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data, e.loading = !1 }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idcliente = t.idcliente, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.verNuevo = 1, this.verDet = 1, this.readonly = !0, this.textoBtn = "Volver", this.hideBorrar = !0 }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Personas/SelectClientes", a).then(function (e) { o = e.data, o.map(function (e) { t.clientes.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idcliente = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = 18, this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0, this.readonly = !1, this.textoBtn = "Cancelar", this.hideBorrar = "false", this.loadingBtn = !1, this.validaMensaje = [] }, guardar: function () { if (this.$refs.form.validate()) { if (this.validar()) return; var t = { Authorization: "Bearer " + this.$store.state.token }, e = { headers: t }, a = this; a.loadingBtn = !0, G.a.post("api/Ventas/Crear", { idcliente: a.idcliente, idusuario: a.$store.state.usuario.idusuario, tipo_comprobante: a.tipo_comprobante, serie_comprobante: a.serie_comprobante, num_comprobante: a.num_comprobante, impuesto: a.impuesto, total: a.total, detalles: a.detalles }, e).then(function (t) { a.ocultarNuevo(), a.listar(), a.limpiar(), a.$emit("registroGuardado") }).catch(function (t) { console.log(t) }) } }, validar: function () { return this.valida = 0, this.validaMensaje = [], this.detalles.length <= 0 && this.validaMensaje.push("Ingrese al menos un artículo al detalle."), this.validaMensaje.length && (this.valida = 1), this.valida }, activarDesactivarMostrar: function (t, e) { this.adModal = 1, this.adNombre = e.num_comprobante, this.adId = e.idventa, 1 == t ? this.adAccion = 1 : (t = 2) ? this.adAccion = 2 : this.adModal = 0 }, activarDesactivarCerrar: function () { this.adModal = 0 }, desactivar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }; G.a.put("api/Ventas/Anular/" + this.adId, {}, a).then(function (e) { t.adModal = 0, t.adAccion = 0, t.adNombre = "", t.adId = "", t.listar() }).catch(function (t) { console.log(t) }) } } }, Ce = ke, Ae = (a("02d6"), Object(d["a"])(Ce, be, _e, !1, null, null, null)), ye = Ae.exports; v()(Ae, { VBtn: p["a"], VCard: h["a"], VCardActions: f["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VSelect: kt["a"], VSlideYTransition: j["d"], VSpacer: M["a"], VTextField: vt["a"], VToolbar: N["a"], VToolbarTitle: F["a"] }); var Ve = function () { var t = this, e = t.$createElement, a = t._self._c || e; return a("v-layout", { attrs: { "align-start": "" } }, [a("v-flex", [a("v-card", [a("v-card-title", [a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", "text-xs-center": "" } }, [a("h2", [t._v("Consulta Ventas")])]), a("v-divider", { attrs: { vertical: "" } }), 0 == t.verNuevo ? a("v-flex", { attrs: { xs8: "", sm3: "", md2: "", "text-xs-center": "" } }, [a("v-menu", { attrs: { "full-width": "", "max-width": "290", lazy: "", transition: "scale-transition", "close-on-content-click": !1 }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-text-field", t._g({ staticClass: "text-xs-center", attrs: { readonly: "", label: "Desde:", "prepend-icon": "event", clearable: "", "clear-icon": "highlight_off", value: t.fechaInicioFormateada }, on: { "click:clear": function (e) { t.fechaInicio = "" } } }, o))] } }], null, !1, 782586416), model: { value: t.menu1, callback: function (e) { t.menu1 = e }, expression: "menu1" } }, [a("v-date-picker", { attrs: { locale: "es" }, on: { change: function (e) { t.menu1 = !1 } }, model: { value: t.fechaInicio, callback: function (e) { t.fechaInicio = e }, expression: "fechaInicio" } })], 1)], 1) : t._e(), 0 == t.verNuevo ? a("v-flex", { attrs: { xs8: "", sm3: "", md2: "", "text-xs-center": "" } }, [a("v-menu", { attrs: { "full-width": "", "max-width": "290", lazy: "", transition: "scale-transition", "close-on-content-click": !1 }, scopedSlots: t._u([{ key: "activator", fn: function (e) { var o = e.on; return [a("v-text-field", t._g({ staticClass: "text-xs-center", attrs: { readonly: "", label: "Hasta:", "prepend-icon": "event", clearable: "", "clear-icon": "highlight_off", value: t.fechaFinFormateada }, on: { "click:clear": function (e) { t.fechaFin = "" } } }, o))] } }], null, !1, 3666725676), model: { value: t.menu2, callback: function (e) { t.menu2 = e }, expression: "menu2" } }, [a("v-date-picker", { attrs: { locale: "es" }, on: { change: function (e) { t.menu2 = !1 } }, model: { value: t.fechaFin, callback: function (e) { t.fechaFin = e }, expression: "fechaFin" } })], 1)], 1) : t._e(), a("v-flex", { attrs: { xs12: "", sm3: "", "text-xs-center": "" } }, [0 == t.verNuevo ? a("v-btn", { attrs: { loading: t.loadingBtnBuscar, color: "primary", dark: "" }, on: { click: function (e) { t.listar(), t.loadingBtnBuscar = !0 } } }, [t._v("Buscar")]) : t._e()], 1)], 1), a("v-dialog", { attrs: { "max-width": "1000px" }, model: { value: t.comprobanteModal, callback: function (e) { t.comprobanteModal = e }, expression: "comprobanteModal" } }, [a("v-card", [a("v-card-text", [a("v-btn", { on: { click: function (e) { return t.crearPDF() } } }, [a("v-icon", [t._v("print")])], 1), a("div", { attrs: { id: "factura" } }, [a("header", [a("div", { attrs: { id: "logo" } }, [a("img", { attrs: { src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAilBMVEX////tHCTsAAD84OHtEBrxY2bsCBXtDhntFh/sABDtEx34tLbsAAv70tP0iYzze37+8/P829z3rK795eb5vsD96+zwVFj5x8jzd3rzgIP5wsTwUVX70dL1k5bvPUPwWFzxZWnwSE3uLTT1mZvzhIbvOj/uLTP4sbPvQkfyb3P+9vbuNDr2oKL0j5G/lkIGAAAHyElEQVR4nO2dbXuiOhCGYYq8+1q1aqtotbW22///9xatPUeSwAxICOw196fdvRbJA8nMZDIJlsUwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMMwDMOU5rE/newHh+FisTzsJ9OXx0/TLaqPh+i7Z0NKHLg/BPH5r35yOI47r7P/J/EBXMe3FYRuDO7z+sV0I+9hDoGj0nYrMwDoHWemW1qVHqbvByeGJDLd1moQFZ5FAgzHpptbAbrCFBd2U9MNLk0phemYhNej6SaXpKRC2/bhvVvvsbTCs8aP9rqPz61oKyooPPfV08hI+1EiFx6Ef6qkMLU5wcSIgmJGCdh1KbRteG5dDLCKPbtGhal/bJnFWcLlydenMP2xhRElaka72K5doR28taanjt2rkHoV2mHcEr8xhd+5Uc0KU9/YihDnD/zXoroVpr+4NqIpwwBu2lO7QhuWRlTdsITb5tSv0LhJzQjUotCwxAFkG6NDodGO+geEtmhRaNDcTEFsih6Ftimn0RcFalNogxHXP3KlJKg2hX5sIoD7kFuvTaEdvjUvcBnL7dCn0A4a9xkraRDqVWg3PV8cKd6gXoU2NDsUE69xhc5zkwIjVR/VrNCGBtNTn25OG7QqtIPmkoyLKgp972dh9LJU6ikXFBHcU1MCx+o+WqDQdwHeT+voqT9+GPefovXpFUCOGDCg35DCXVhOoQf+ciVawtlq6UNOX8gj3DUjUOkK8xUGcMqLKl8WcVBKYkNO8Su3d8kKvQD2RfZhtIcyGv1XncJ+yfEUSoUJfKO/twalb825QxOL4fmvUFb4/Uj4wVkv/5lJL/FLh6Qs+aNQoZBIBHm2S77Fql45Cp4LGlNVoTXbUEdjqD12y/WFdym0rC21p4Luio1lkQu7Q6F1IEp0h/WJUVLYjnsUWt9EiVCbFiVSeq0+hWLyNfcmeh1GUjhZuE+htSWZGyepSYuSUfFjvlOhtSE5Da2T/YJ4hqBwPFkmu80uWU5y7OFMmRuR7qKzm26LZ7RFCtMoG2LX8X3fcdM/LZTRePEwv+L0dMmzEEtapHC1EWZKLmxU0UmPEqNqtKZyHp+mcPYMcjDrq2pmZpSXqDHHv0eMXY7CI6g7t6NYcVkT7Gmw16Zwjtg6tcICPwcD6X8TXmI416YQy5wpFS4KI1kpWb8n2FNPl8AH7PmqFCKRivQW1dl04SJd0XeE3VyhEPGgCu+Wl6q8IdblEQfYvWWFBNsohigv+CWuPHzroTgoVSqc40lvR7QbNppHDXWFpuitJYVPJPf2lL2ocAp6wbf1CPxEmysp/KCE0uFH9qKiTNDvjfRsl3osrRCLgX4vyybrKWOXksMrD95eUeGQlrUXExOv6EDUtICBB/6iQmoCLchedkLDb03Z/QnqiwWFhXm5zHVZD47HprGexVIs7pYU4o9E3WA0stAVe6MOX1R4oC6euYfMdbiP0eTy8QYLCslr3MKsHTdpwiOpC9wyCuMpdyVVRFj5xMevprQwHhIL73BDXcb2N5nr0DmM7eqpkPr33yFhHGYdcefGIcGWZmPoztlS3B8KM9PO+UO8wUG2ILtzMQ0el3pC0VLX4lLcAPjv2Su6NrfA54dizqVr80N8ji9VSnRsjk9IEbnC9paO5WmsBH0jvi9egq8leWKuzTeXa8NdvrQs1LF8Ke6J5ZC4WzlvigePxUpEpIhEKu0zum5hESyjHE8NC9eepEkCHhumkbougej64aXN0lUFb1FRnGl2/ZDyfAN5s2CUuwYsjyfDa8AEM6csd5nNFeWVIczbt45P6UK2p3JWTx9SLcbHk+L/Efyn3so2pJ7m2gClLe8Pg3M9TeiH53qaYKiMnVHfckZrPQ2pBbllWePJobfb7HqH3Joo2s/rrIlC6tquVN4O+Uara9O6OQhdBr4QbCv9eBtqE4nd1IYquTBilbDuDQnUQt7ysTGxgFZ3jTBh8nZtR9m3SK7z1n3CAj1/ti31u+2p1S/cb5GhzCFIs7f27LegZFF+G0O2Ce3aM1O070lqTkJ5jbOkXfueqA7jgkfYu/bdur1rhITtDQGsO7f/kFZufqsxfw/pqZS+5g5WIK98XvHAGU6lfcDToVOmf55pah8wNVl/y3kv93Z9vO7lPq6371B2m7Pd4F5u61S+cekYcm7246sP+EZobj++NSo3euqiwTMVrGP5fno/zZ4WNS9pI2pAWt/QC20PVq00fVRUSad4P82fSTts9i3GBs4W3NR69gyCs8EbVDuzoIpPq4YfGDlwt0JoUxUzZ+6Vm0fdJ9DYxy/2zUgEfWtNKNQM4H0C9RQiEilc4K1JoO5jIkxLNC1Qe0c120V/0GpuTBqZ/4kUW9HroSVnsqeuH/1sVTWcoCXn6p8PQdIRhseb1nwbwdJiUk0fxi4yjeud9Xtxy75RcqmZqVGgqtbGPMegSpJRhRu0xIaKjE70VbIC2vu9p5T+7m7f6MOuscx2Jaavd2n04bV1FkYi+qrcV0P46saHHlfPFVZdzqs3zw0sYdfEeAk5NaV5dPAbllFCF5nK6+R3SGdRDyDAxuTlW7JRG/07jZf93IHYDVX21T9/D9ibd/t7wBfG0SBRf9N5EHVs6BXx+fNd7uVwOFwO/rXvcjMMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzAMwzTGXxaidiHpPPEhAAAAAElFTkSuQmCC", id: "imagen" } })]), a("div", { attrs: { id: "datos" } }, [a("p", { attrs: { id: "encabezado" } }, [a("b", [t._v("CrisssIT")]), a("br"), t._v("San Martín 1368, Godoy Cruz - Mendoza, Argentina"), a("br"), t._v("Telefono:(+54)456742904"), a("br"), t._v("Email:criss.sarmiento23@gmail.com\n                                       ")])]), a("div", { attrs: { id: "fact" } }, [a("p", [t._v(t._s(t.tipo_comprobante)), a("br"), t._v("\n                                       " + t._s(t.serie_comprobante) + "-" + t._s(t.num_comprobante)), a("br"), t._v("\n                                       " + t._s(t.fecha_hora))])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facliente" } }, [a("tbody", [a("tr", [a("td", { attrs: { id: "cliente" } }, [a("strong", [t._v("Sr(a). " + t._s(t.cliente))]), a("br"), a("strong", [t._v("Documento:")]), t._v(" " + t._s(t.num_documento)), a("br"), a("strong", [t._v("Dirección:")]), t._v(" " + t._s(t.direccion)), a("br"), a("strong", [t._v("Teléfono:")]), t._v(" " + t._s(t.telefono)), a("br"), a("strong", [t._v("Email:")]), t._v(" " + t._s(t.email) + "\n                                                   ")])])])])])]), a("br"), a("section", [a("div", [a("table", { attrs: { id: "facarticulo" } }, [a("thead", [a("tr", { attrs: { id: "fa" } }, [a("th", [t._v("CANT")]), a("th", [t._v("DESCRIPCION")]), a("th", [t._v("PRECIO UNIT")]), a("th", [t._v("DESC.")]), a("th", [t._v("PRECIO TOTAL")])])]), a("tbody", t._l(t.detalles, function (e) { return a("tr", { key: e.iddetalle_venta }, [a("td", { staticStyle: { "text-align": "center" } }, [t._v(t._s(e.cantidad))]), a("td", [t._v(t._s(e.articulo))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.precio.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s(e.descuento.toFixed(2)))]), a("td", { staticStyle: { "text-align": "right" } }, [t._v(t._s((e.cantidad * e.precio - e.descuento).toFixed(2)))])]) }), 0), a("tfoot", [a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("SUBTOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("IGV (" + t._s(t.impuesto) + "%)")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)))])]), a("tr", [a("th"), a("th"), a("th"), a("th", { staticStyle: { "text-align": "right" } }, [t._v("TOTAL")]), a("th", { staticStyle: { "text-align": "right" } }, [t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)))])])])])])]), a("br"), a("br"), a("footer", [a("div", { attrs: { id: "gracias" } }, [a("p", [a("b", [t._v("Gracias por su compra!")])])])])]), a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: function (e) { return t.ocultarComprobante() } } }, [t._v("Cancelar")])], 1)], 1)], 1), 0 == t.verNuevo ? a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.headers, items: t.ventas, loading: t.loading, pagination: t.pagination }, on: { "update:pagination": function (e) { t.pagination = e } }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", { staticClass: "justify-center layout px-0" }, [a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.verDetalles(e.item) } } }, [t._v("\n                   tab\n                   ")]), a("v-icon", { staticClass: "mr-2", attrs: { small: "" }, on: { click: function (a) { return t.mostrarComprobante(e.item) } } }, [t._v("\n                   print\n                   ")])], 1), a("td", [t._v(t._s(e.item.usuario))]), a("td", [t._v(t._s(e.item.cliente))]), a("td", [t._v(t._s(e.item.tipo_comprobante))]), a("td", [t._v(t._s(e.item.serie_comprobante))]), a("td", [t._v(t._s(e.item.num_comprobante))]), a("td", [t._v(t._s(e.item.fecha_hora))]), a("td", [t._v("%" + t._s(e.item.impuesto))]), a("td", [t._v("$" + t._s(e.item.total))]), a("td", ["Aceptado" == e.item.estado ? a("div", [a("span", { staticClass: "blue--text" }, [t._v("Aceptado")])]) : a("div", [a("span", { staticClass: "red--text" }, [t._v(t._s(e.item.estado))])])])] } }, { key: "no-data", fn: function () { return [a("v-btn", { attrs: { color: "primary" }, on: { click: t.listar } }, [t._v("Resetear")])] }, proxy: !0 }], null, !1, 1671727850) }) : t._e(), a("v-slide-y-transition", { attrs: { mode: "out-in" } }, [[t.verNuevo ? a("v-container", { staticClass: "pa-4 white", attrs: { "grid-list-sm": "" } }, [a("v-form", { ref: "form" }, [a("v-layout", { attrs: { row: "", wrap: "" } }, [a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-select", { attrs: { items: t.comprobantes, label: "Tipo Comprobante", rules: [function (t) { return !!t || "Seleccione un Tipo Comprobante" }], readonly: "" }, model: { value: t.tipo_comprobante, callback: function (e) { t.tipo_comprobante = e }, expression: "tipo_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Serie Comprobante", rules: t.inputRules, readonly: "" }, model: { value: t.serie_comprobante, callback: function (e) { t.serie_comprobante = e }, expression: "serie_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { label: "Número Comprobante", rules: t.inputRules, readonly: "" }, model: { value: t.num_comprobante, callback: function (e) { t.num_comprobante = e }, expression: "num_comprobante" } })], 1), a("v-flex", { attrs: { xs12: "", sm8: "", md8: "", lg8: "", xl8: "" } }, [a("v-select", { attrs: { items: t.clientes, label: "Clientes", rules: [function (t) { return !!t || "Seleccione un Cliente" }], readonly: "" }, model: { value: t.idcliente, callback: function (e) { t.idcliente = e }, expression: "idcliente" } })], 1), a("v-flex", { attrs: { xs12: "", sm4: "", md4: "", lg4: "", xl4: "" } }, [a("v-text-field", { attrs: { type: "number", label: "Impuesto", rules: [function (t) { return !!t || "El campo es requerido" }, function (t) { return t > 0 || "Ingrese un impuesto válido" }], readonly: "" }, model: { value: t.impuesto, callback: function (e) { t.impuesto = e }, expression: "impuesto" } })], 1), t.errorArticulo ? a("v-flex", { attrs: { xs12: "", sm2: "", md2: "", lg2: "", xl2: "" } }, [a("div", { staticClass: "red--text", domProps: { textContent: t._s(t.errorArticulo) } })]) : t._e(), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-data-table", { staticClass: "elevation-1", attrs: { headers: t.cabeceraDetalles, items: t.detalles, loading: t.loading, "hide-actions": "" }, scopedSlots: t._u([{ key: "items", fn: function (e) { return [a("td", [t._v(t._s(e.item.articulo))]), a("td", [a("v-text-field", { attrs: { type: "number", readonly: "" }, model: { value: e.item.cantidad, callback: function (a) { t.$set(e.item, "cantidad", a) }, expression: "props.item.cantidad" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: "" }, model: { value: e.item.precio, callback: function (a) { t.$set(e.item, "precio", a) }, expression: "props.item.precio" } })], 1), a("td", [a("v-text-field", { attrs: { type: "number", prefix: "$", readonly: "" }, model: { value: e.item.descuento, callback: function (a) { t.$set(e.item, "descuento", a) }, expression: "props.item.descuento" } })], 1), a("td", [t._v("$ " + t._s(e.item.cantidad * e.item.precio - e.item.descuento))])] } }, { key: "no-data", fn: function () { return [a("h3", [t._v("No hay artículos agregados al detalle")])] }, proxy: !0 }], null, !1, 1103557154) }), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Parcial: ")]), t._v("$ " + t._s(t.totalParcial = (t.total - t.totalImpuesto).toFixed(2)) + "\n                   ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Impuesto: ")]), t._v("$ " + t._s(t.totalImpuesto = (t.total * t.impuesto / (100 + t.impuesto)).toFixed(2)) + "\n                   ")]), a("v-flex", { staticClass: "text-xs-right" }, [a("strong", [t._v("Total Neto: ")]), t._v("$ " + t._s(t.total = t.calcularTotal.toFixed(2)) + "\n                   ")])], 1), a("v-flex", { directives: [{ name: "show", rawName: "v-show", value: t.valida, expression: "valida" }], attrs: { xs12: "", sm12: "", md12: "" } }, t._l(t.validaMensaje, function (e) { return a("div", { key: e, staticClass: "red--text", domProps: { textContent: t._s(e) } }) }), 0), a("v-flex", { attrs: { xs12: "", sm12: "", md12: "", lg12: "", xl12: "" } }, [a("v-btn", { attrs: { color: "blue darken-1", flat: "" }, on: { click: t.ocultarNuevo } }, [t._v("Volver")]), 0 == t.verDet ? a("v-btn", { attrs: { color: "success" }, on: { click: t.guardar } }, [t._v("Guardar")]) : t._e()], 1)], 1)], 1)], 1) : t._e()]], 2)], 1)], 1)], 1) }, De = [], Ie = { data: function () { return { pagination: { sortBy: "fecha_hora", descending: !0 }, ventas: [], dialog: !1, headers: [{ text: "Opciones", value: "opciones", sortable: !1 }, { text: "Usuario", value: "usuario" }, { text: "Cliente", value: "cliente" }, { text: "Tipo Comprobante", value: "tipo_comprobante" }, { text: "Serie Comprobante", value: "serie_comprobante", sortable: !1 }, { text: "Número Comprobante", value: "num_comprobante", sortable: !1 }, { text: "Fecha", value: "fecha_hora" }, { text: "Impuesto", value: "impuesto", sortable: !1 }, { text: "Total", value: "total", sortable: !1 }, { text: "Estado", value: "estado", sortable: !1 }], cabeceraDetalles: [{ text: "Artículo", value: "articulo", sortable: !1 }, { text: "Cantidad", value: "cantidad", sortable: !1 }, { text: "Precio", value: "precio", sortable: !1 }, { text: "Descuento", value: "descuento", sortable: !1 }, { text: "Subtotal", value: "subtotal", sortable: !1 }], cabeceraArticulos: [{ text: "Seleccionar", value: "seleccionar", sortable: !1 }, { text: "Artículo", value: "articulo" }, { text: "Categoría", value: "categoria" }, { text: "Descripción", value: "descripcio", sortable: !1 }, { text: "Stock", value: "stock", sortable: !1 }, { text: "Precio Venta", value: "precio_venta", sortable: !1 }], detalles: [], search: "", loading: !0, loadingBtnBuscar: !1, id: "", idcliente: "", clientes: [], tipo_comprobante: "", comprobantes: ["FACTURA", "BOLETA", "TICKET"], serie_comprobante: "", num_comprobante: "", impuesto: 18, codigo: "", verNuevo: 0, errorArticulo: null, totalParcial: 0, totalImpuesto: 0, total: 0, articulos: [], texto: "", verArticulos: 0, verDet: 0, valida: 0, validaMensaje: [], adModal: 0, adAccion: 0, adNombre: "", adId: "", inputRules: [function (t) { return !!t || "El campo es requerido" }], comprobanteModal: 0, cliente: "", fecha_hora: "", num_documento: "", direccion: "", telefono: "", email: "", menu1: !1, menu2: !1, fechaInicio: "", fechaFin: "" } }, computed: { calcularTotal: function () { for (var t = 0, e = 0; e < this.detalles.length; e++)t += this.detalles[e].precio * this.detalles[e].cantidad - this.detalles[e].descuento; return t }, fechaInicioFormateada: function () { return this.fechaInicio ? ie()(this.fechaInicio).format("DD/MM/YYYY") : "" }, fechaFinFormateada: function () { return this.fechaFin ? ie()(this.fechaFin).format("DD/MM/YYYY") : "" } }, watch: { dialog: function (t) { t || this.close() } }, created: function () { this.listar(), this.select() }, methods: { crearPDF: function () { var t = document.getElementById("factura"); ge()(t).then(function (t) { var e = t.toDataURL("image/png"), a = 210, o = t.height * a / t.width, i = new _t.a("p", "mm", "a4"), r = 0; i.addImage(e, "PNG", 0, r, a, o), i.save("ComprobanteVenta.pdf") }) }, mostrarComprobante: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.cliente = t.cliente, this.num_documento = t.num_documento, this.direccion = t.direccion, this.telefono = t.telefono, this.email = t.email, this.fecha_hora = t.fecha_hora, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.comprobanteModal = 1 }, ocultarComprobante: function () { this.comprobanteModal = 0, this.limpiar() }, mostrarNuevo: function () { this.verNuevo = 1 }, ocultarNuevo: function () { this.verNuevo = 0, this.limpiar() }, agregarDetalle: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; this.errorArticulo = null, this.encuentra(t["idarticulo"]) ? this.errorArticulo = "El artículo ya ha sido agregado" : this.detalles.push({ idarticulo: t["idarticulo"], articulo: t["nombre"], cantidad: 1, precio: t["precio_venta"], descuento: 0 }) }, encuentra: function (t) { for (var e = 0, a = 0; a < this.detalles.length; a++)this.detalles[a].idarticulo == t && (e = 1); return e }, listar: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = ""; o = t.fechaInicio && t.fechaFin ? "api/Ventas/ConsultaFechas/" + t.fechaInicio + "/" + t.fechaFin : "api/Ventas/Listar", G.a.get(o, a).then(function (e) { t.ventas = e.data, t.ventas.map(function (t) { t.fecha_hora = ie()(t.fecha_hora).format("DD/MM/YYYY HH:mm") }), t.loading = !1, t.loadingBtnBuscar = !1 }).catch(function (t) { console.log(t) }) }, listarDetalles: function (t) { var e = this, a = { Authorization: "Bearer " + this.$store.state.token }, o = { headers: a }; G.a.get("api/Ventas/ListarDetalles/" + t, o).then(function (t) { e.detalles = t.data, e.loading = !1 }).catch(function (t) { console.log(t) }) }, verDetalles: function (t) { this.limpiar(), this.tipo_comprobante = t.tipo_comprobante, this.serie_comprobante = t.serie_comprobante, this.num_comprobante = t.num_comprobante, this.idcliente = t.idcliente, this.impuesto = t.impuesto, this.listarDetalles(t.idventa), this.verNuevo = 1, this.verDet = 1 }, select: function () { var t = this, e = { Authorization: "Bearer " + this.$store.state.token }, a = { headers: e }, o = []; G.a.get("api/Personas/SelectClientes", a).then(function (e) { o = e.data, o.map(function (e) { t.clientes.push({ text: e.nombre, value: e.idpersona }) }) }).catch(function (t) { console.log(t) }) }, limpiar: function () { this.id = "", this.idcliente = "", this.tipo_comprobante = "", this.serie_comprobante = "", this.num_comprobante = "", this.impuesto = "18", this.codigo = "", this.detalles = [], this.total = 0, this.totalImpuesto = 0, this.totalParcial = 0, this.verDet = 0, this.validaMensaje = [] } } }, we = Ie, je = (a("fb97"), Object(d["a"])(we, Ve, De, !1, null, null, null)), Te = je.exports; v()(je, { VBtn: p["a"], VCard: h["a"], VCardText: f["b"], VCardTitle: nt["a"], VContainer: b["a"], VDataTable: lt["a"], VDatePicker: me["a"], VDialog: ct["a"], VDivider: dt["a"], VFlex: x["a"], VForm: ut["a"], VIcon: k["a"], VLayout: C["a"], VMenu: pe["a"], VSelect: kt["a"], VSlideYTransition: j["d"], VTextField: vt["a"] }); var Me = a("2f62"), Ne = a("04e1"), Be = a.n(Ne); o["a"].use(Me["a"]); var Fe = new Me["a"].Store({ state: { token: null, usuario: null }, mutations: { setToken: function (t, e) { t.token = e }, setUsuario: function (t, e) { t.usuario = e } }, actions: { guardarToken: function (t, e) { var a = t.commit; a("setToken", e), a("setUsuario", Be()(e)), localStorage.setItem("token", e) }, autoLogin: function (t) { var e = t.commit, a = localStorage.getItem("token"); a && (e("setToken", a), e("setUsuario", Be()(a))), Ee.push({ name: "home" }) }, salir: function (t) { var e = t.commit; e("setToken", null), e("setUsuario", null), localStorage.removeItem("token"), Ee.push({ name: "login" }) } } }); o["a"].use(S["a"]); var Pe = new S["a"]({ mode: "history", base: "/", routes: [{ path: "/", name: "home", component: at, meta: { administrador: !0, almacenero: !0, vendedor: !0 } }, { path: "/categorias", name: "categorias", component: pt, meta: { administrador: !0, almacenero: !0 } }, { path: "/articulos", name: "articulos", component: At, meta: { administrador: !0, almacenero: !0 } }, { path: "/ingresos", name: "ingresos", component: le, meta: { administrador: !0, almacenero: !0 } }, { path: "/consultacompra", name: "consultacompra", component: fe, meta: { administrador: !0 } }, { path: "/roles", name: "roles", component: jt, meta: { administrador: !0 } }, { path: "/usuarios", name: "usuarios", component: Pt, meta: { administrador: !0 } }, { path: "/clientes", name: "clientes", component: Ot, meta: { administrador: !0, vendedor: !0 } }, { path: "/ventas", name: "ventas", component: ye, meta: { administrador: !0, vendedor: !0 } }, { path: "/consultaventa", name: "consultaventa", component: Te, meta: { administrador: !0 } }, { path: "/proveedores", name: "proveedores", component: Yt, meta: { administrador: !0, almacenero: !0 } }, { path: "/login", name: "login", component: te, meta: { libre: !0 } }] }); Pe.beforeEach(function (t, e, a) { t.matched.some(function (t) { return t.meta.libre }) ? a() : Fe.state.usuario && "Administrador" == Fe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.administrador }) && a() : Fe.state.usuario && "Almacenero" == Fe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.almacenero }) && a() : Fe.state.usuario && "Vendedor" == Fe.state.usuario.rol ? t.matched.some(function (t) { return t.meta.vendedor }) && a() : a({ name: "login" }) }); var Ee = Pe; o["a"].config.productionTip = !1, G.a.defaults.baseURL ="https://sistemacris.azurewebsites.net",new o["a"]({router:Ee,store:Fe,render:function(t){return t(E)}}).$mount("#app")},7468:function(t,e,a){},fb97:function(t,e,a){"use strict";var o=a("7468"),i=a.n(o);i.a}});
//# sourceMappingURL=app.2dda4180.js.map